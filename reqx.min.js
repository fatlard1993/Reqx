var ReqX=function(t){if(!(this instanceof ReqX))return new ReqX(t);this.version="0.3.1 (beta)";var n=this,a=0,e=[],o=[];t||(t={}),t.json===!0&&(t.contentType="application/json",t.dataType="json",t.accepts="json"),t.default_method||(t.default_method="GET");var c=function(){a++},i=function(t){a--,t&&(e||(e=[]),e.push(t),n.error_callback&&n.error_callback(t)),0==a&&(o.length>0&&r(),o.splice(0,1),n.callback&&o.length<1&&1>a&&((!e||e.length<1)&&(e=null),n.callback(e),n.callback=null))},r=function(){if(!(o.length<1)){var t=o[0];n.ajax(t.url,t.method,t.data,t.callback)}};return this.done=function(t){return"function"!=typeof t?console.warn("ReqX.done() only accepts functions"):(n.callback=t,this)},this.error=function(t){return"function"!=typeof t?console.warn("ReqX.errors() only accepts functions"):(n.error_callback=t,this)},this.ajax=function(e,r,l,s){var u=function(){return t.sync&&a>0?void o.unshift({url:e,method:r,data:l,callback:s}):void n.ajax(e,r,l,s)};if(t.sync&&a>0){var h={url:e,method:r,data:l,callback:s};return o.push(h),this}return"function"==typeof r&&(s=r,l=r=void 0),"function"==typeof l&&(s=l,l=void 0),1==t.json&&"object"==typeof l&&"GET"!==r&&(l=JSON.stringify(l)),c(),$.ajax({url:e,cache:t.cache||!0,type:r||t.default_method,data:l||{},dataType:t.dataType,contentType:t.contentType,accepts:t.accepts}).done(function(t){s&&s(null,t,u),i()}).error(function(t){s&&s(t,null,u),i(t)}),this},this.get=function(t,n,a){return n||(a=n,n=void 0),this.ajax(t,"GET",n,a),this},this.post=function(t,n,a){return n||(a=n,n=void 0),this.ajax(t,"POST",n,a),this},this.put=function(t,n,a){return n||(a=n,n=void 0),this.ajax(t,"PUT",n,a),this},this};